groups: # High level grouping
  - name: batch_consumer_cassandra_alerts # Name of the group of rules
    interval: 1m # How often they should be evaluated (deafult: 1m)
    rules: # Set of rules in this this group
    - alert: Client_request_write_failure
      expr: sum(cassandra_client_request_failures_total) > 0
      labels:
        severity: warning
      annotations:
        description: 'Number of write failures encountered'
    
    - alert: Cache_HitRate_KeyCache
      expr: cassandra_table_key_cache_hit_ratio < .85
      for: 1m
      labels:
        severity: warning
      annotations:
        description: 'Key Cache HitRate is below 85%. Please investigate.'
  
    - alert: Write_Requests
      expr: cassandra_client_request_view_write_latency_seconds_count > 1000
      for: 1m
      labels:
        severity: warning
      annotations:
        description: 'The number of write requests per second has reached 1000 ops/sec.'
